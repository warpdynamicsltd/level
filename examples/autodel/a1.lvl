import stdlib:collections:ascii as *;
import stdlib:sys:app as *;
import stdlib:sys:context as *;

sub main()
{
  exec on_opening();
  echo str("hello");
  echo str("world");
  a = str("hello");
  b = str(" world");
  echo str("hello") + str(" world");

  s = str("abcd");
  s[0] = s[2];
  echo s;
  echo s;

  exec on_closing();
}

entry
{
  exec main();

  exec gc.collect();
  exec gc.clear();
  echo "gc test";
  echo app.allocator.used;
  echo "end";
}